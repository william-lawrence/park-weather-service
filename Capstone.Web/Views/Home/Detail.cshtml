@model Park
@{
    ViewData["Title"] = "Detail";
    int HighTempDanger = 75;
    int TempDifferenceAdvisory = 20;
    int LowTempDanger = 20;
}

<img src="~/images/parks/@(Model.Code).jpg" />

<h2>@Model.Name</h2>

<p>@Model.Description</p>

<p>
    Welcome to @Model.Name located in the @Model.Climate climate of @Model.State!
    @Model.Name joined the ranks of the National Parks in @Model.YearFounded and covers an area of @Model.Acreage.ToString("N0") acres at an elevation of @(Model.ElevationInFeet)ft. above sea level.
    We boast an immense @Model.MilesOfTrail miles of hiking trails and @Model.NumberOfCampsites campsites available to the public.
    You might see as many as @Model.NumberOfAnimalSpecies types of animals here, like maybe a fox or a moose!
    @Model.InspirationalQuoteSource once said about us, "@Model.InspirationalQuote" So come check it out and see for yourself!
    Admission is just a modest @Model.EntryFee.ToString("C"). The @Model.AnnualVisitorCount.ToString("N0") people that come see us every year can't be wrong!
</p>

<h3>Five Day Forecast</h3>
<div>
    <a asp-controller="Home" asp-action="ChangeUnits" asp-route-code="@Model.Code" asp-route-unit="F">F</a>
    <a asp-controller="Home" asp-action="ChangeUnits" asp-route-code="@Model.Code" asp-route-unit="C">C</a>
    <a asp-controller="Home" asp-action="ChangeUnits" asp-route-code="@Model.Code" asp-route-unit="K">K</a>
</div>
@for (int i = 0; i < Model.FiveDayForecast.Count && i < 5; i++)
{
    <div class="weather-@((i==0)?"big":"small")">
        <center>@DateTime.Today.AddDays(i).DayOfWeek</center>
        <img src="~/images/weather/@(new string(Model.FiveDayForecast[i].Forecast.Where(c => !Char.IsWhiteSpace(c)).ToArray())).png" alt="@Model.FiveDayForecast[i].Forecast" />
        @{
            string high = "";
            string low = "";
            if (true)
            {
                high = Model.FiveDayForecast[i].HighTempF.ToString() + "°F";
                low = Model.FiveDayForecast[i].LowTempF.ToString() + "°F";
            }
            else if (true)
            {
                high = Model.FiveDayForecast[i].HighTempC.ToString() + "°C";
                low = Model.FiveDayForecast[i].LowTempC.ToString() + "°C";
            }
            else
            {
                high = Model.FiveDayForecast[i].HighTempK.ToString() + "K";
                low = Model.FiveDayForecast[i].LowTempK.ToString() + "K";
            }
        }
        @if (i == 0)
        {
            <div>High: @high   Low: @low</div>
            <div>
                Just Remember:
                <ul>
                    @if (Model.FiveDayForecast[i].Forecast == "snow")
                    {
                        <li>Pack Your Snowshoes</li>
                    }
                    @if (Model.FiveDayForecast[i].Forecast == "rain")
                    {
                        <li>Pack Your Rain Gear</li>
                        <li>Wear Waterproof Shoes</li>
                    }
                    @if (Model.FiveDayForecast[i].Forecast == "thunderstorms")
                    {
                        <li>Seek Shelter During a Storm</li>
                        <li>SAvoid Hiking on Exposed Ridges</li>
                    }
                    @if (Model.FiveDayForecast[i].Forecast == "sunny")
                    {
                        <li>Pack Your Sunblock</li>
                    }
                    @if (Model.FiveDayForecast[i].HighTempF >= HighTempDanger)
                    {
                        <li>Bring an Extra Gallon of Water</li>
                    }
                    @if (Model.FiveDayForecast[i].HighTempF - Model.FiveDayForecast[i].LowTempF >= TempDifferenceAdvisory)
                    {
                        <li>Wear Breathable Layers</li>
                    }
                    @if (Model.FiveDayForecast[i].LowTempF <= LowTempDanger)
                    {
                        <li>Be Aware of the Dangers of Exposure to Frigid Temperatures</li>
                    }
                    <li>Have a Great Day!</li>
                </ul>
            </div>
        }
        else
        {
            <div>High: @high</div>
            <div>Low: @low</div>
        }
    </div>
}